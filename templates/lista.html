{% extends 'base.html' %} {% block title %}Lista{% endblock %} {% block body%}
{% block content %}
<script src="static/js/grid.js"></script>

<main style="background-color: #2a2a37">
  <div>
    <h1 style="margin-bottom: 2px; display: inline-block">My Watched List</h1>
    <brown
      ="rewatch,"
      style="
        margin-left: 10px;
        font-size: 15px;
        color: #b3b3b3;
        display: inline-block;
      "
    >
      (Color legend: brown=rewatch, green=2023/seen in the theater)
    </brown>
    <a
      href="/add_movie"
      style="
        font-size: 15px;
        color: rgb(106, 235, 252);
        display: inline-block;
        margin-left: 13%;
      "
    >
      Add movie
    </a>
  </div>
  <div class="row">
    {% for month in months %}
    <div class="column" onclick="openTab('{{month}}');">
      <h4 class="title">{{month}}</h4>
    </div>
    <div id="{{month}}" class="containerTab">
      <span onclick="this.parentElement.style.display='none';" class="closebtn"
        >&times;</span
      >
      <!--<ol>
        {% for movie in movies%} {% if dict_months[movie['v_date'].month] ==
        month %} {% if movie['rewatch']== 1 %}
        <li class="lista" style="color: brown">
          {% elif movie['p_year'] == now %}
        </li>

        <li class="lista" style="color: lightgreen">{% else %}</li>

        <li class="lista">
          {% endif %} {{movie['movie'].upper()}} ({{movie['p_year']}}) -
          {{movie['director'].upper()}}, {{movie['rating']}}
        </li>
        {% endif %} {% endfor %}
      </ol>-->
      <table>
        <thead>
          <tr>
            <th>Movie</th>
            <th>Year</th>
            <th>Director</th>
            <th>Rating</th>
            <th style="width: 5%"></th>
          </tr>
        </thead>
        <tbody>
          {% for movie in movies%} {% if dict_months[movie['v_date'].month] ==
          month %} {% if movie['rewatch']== 1 %}
          <tr style="color: brown">
            <td>{{movie['movie'].upper()}}</td>

            <td>{{movie['p_year']}}</td>

            <td>{{movie['director'].upper()}}</td>
            <td>{{movie['rating']}}</td>
            <td>
              <form action="/remove_movie" method="post">
                <button type="submit" class="table-button">X</button>
                <input type="hidden" name="movie_id" value="{{movie['id']}}" />
              </form>
            </td>
          </tr>
          {% elif movie['p_year'] == now %}
          <tr style="color: green">
            <td>{{movie['movie'].upper()}}</td>

            <td>{{movie['p_year']}}</td>

            <td>{{movie['director'].upper()}}</td>
            <td>{{movie['rating']}}</td>
            <td>
              <form action="/remove_movie" method="post">
                <button type="submit" class="table-button">X</button>
                <input type="hidden" name="movie_id" value="{{movie['id']}}" />
              </form>
            </td>
          </tr>
          {% else %}
          <tr>
            <td>{{movie['movie'].upper()}}</td>

            <td>{{movie['p_year']}}</td>

            <td>{{movie['director'].upper()}}</td>
            <td>{{movie['rating']}}</td>
            <td>
              <form action="/remove_movie" method="post">
                <button type="submit" class="table-button">X</button>
                <input type="hidden" name="movie_id" value="{{movie['id']}}" />
              </form>
            </td>
          </tr>
          {% endif %} {% endif %} {% endfor %}
        </tbody>
      </table>
    </div>

    {% endfor %}
  </div>
</main>
{% endblock %} {% endblock %}
